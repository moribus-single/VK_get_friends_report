# VK get friends report</br>Back-end test task for Junior Developer

## Introduction.
Система позволяет получить информацию о друзьях пользователя по его id в социальной сети "Вконтакте" и сформировать отчет в 3 поддерживаемых форматах - csv, tsv, json.

Входные данные:</br>
1. Авторизационный токен (TOKEN);</br>
2. ID пользователя, по которому генерируем отчет (USER_ID);</br>
3. Формат выходного файла. По умолчанию - CSV (OUTPUT_TYPE);</br>
4. Путь к выходному файлу. По умолчанию - файл с именем report в текущей директории (OUTPUT_PATH);</br>

Ввод данных осуществляется через файл main.py в переменные на строках 17-20.</br>
Для добавления формата файла помимо разработки объекта записи необходимо добавить новое расширение в список VALID_OUTPUT_TYPES на строке 8.</br> 
Для получения дополнительных данных необходимо добавить заголовок в переменную TITLES на строке 14 и добавить свойство в переменную KEYS на строке 11 и подправить функцию prepare_list (utils/utils.py).</br>


## How it works?
Система  оформлена в ООП стиле, глобальная цель - получить информацию о друзьях пользователя - поделена на микрозадачи, и каждый отдельный объект выполняет свою задачу.
Внутри системы реализованы следующие объекты:</br>
1. FriendsGetter (friends_getter/friends_getter.py) - отправляет запрос к API и получает список id всех друзей заданного пользователя.</br>
2. DataGetter (data_getter/data_getter.py) - отправляет запрос по всем id сразу к API и получает в ответ информацию, доступную в профиле пользователей.</br>
3. CsvWriter (file_writers/csv_writer/csv_writer.py) - получает данные в виде списка словарей и записывает их в конечный датасет формата CSV.</br>
4. TsvWriter (file_writers/tsv_writer/tsv_writer.py) - получает данные в виде списка словарей и записывает их в конечный датасет формата TSV.</br>
5. JsonWriter (file_writers/json_writer/json_writer.py) - получает данные в виде списка словарей и обрабатывает их для дампа в JSON файл.</br>

Обращение к VK API осуществляется через библиотеку vk_api. (<a href="https://vk-api.readthedocs.io/en/latest/index.html">Документация</a>)</br>

Помимо основных объектов в системе присутствует директория utils для функций обработки данных.
Вся работа выполнена в соответствии с PEP8 и достаточно легко масштабируема. 
Например, для поддержки нового формата выходных данных достаточно написать отдельный модуль и использовать его в функции main() внутри main.py. 
Так же в системе имеется простейшее логирование в консоль.
